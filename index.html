<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Pedido de Planillas</title>

<style>
* { box-sizing: border-box; font-family: Arial, sans-serif; }

body {
  margin: 0;
  background: #000;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.container {
  background: #fff;
  color: #000;
  width: 420px;
  border-radius: 18px;
  padding: 25px;
  animation: fadeIn .5s ease;
}

h2 {
  text-align: center;
  margin-bottom: 18px;
}

/* üîπ TABS TIPO PASTILLA */
.tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 15px;
}

.tab {
  flex: 1;
  padding: 10px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  background: #e6e6e6;
  font-weight: bold;
  transition: .3s;
}

.tab.active {
  background: #5a2ea6;
  color: #fff;
}

/* üîπ CAMPOS */
input, textarea, select {
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
  border-radius: 8px;
  border: 1px solid #ccc;
  resize: none;
}

textarea {
  height: 140px;
  overflow-y: scroll;
}

/* üîπ BOT√ìN */
button.send {
  width: 100%;
  padding: 12px;
  border: none;
  background: #5a2ea6;
  color: #fff;
  border-radius: 10px;
  font-size: 16px;
  cursor: pointer;
}

/* üî¥ ERROR */
.error {
  display: none;
  align-items: center;
  gap: 8px;
  color: #c70000;
  font-weight: bold;
  margin-bottom: 12px;
  animation: slideIn .4s ease;
}

.error span {
  font-size: 18px;
}

/* ‚úÖ √âXITO */
.success {
  display: none;
  text-align: center;
  animation: fadeIn .4s ease;
}

.success button {
  margin-top: 10px;
  width: 100%;
}

/* üîπ FOOTER */
.footer {
  margin-top: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.footer span {
  font-family: "Trebuchet MS", Arial, sans-serif;
  font-size: 14px;
}

.footer img {
  height: 44px; /* üî• M√ÅS GRANDE QUE EL TEXTO */
}

/* üîπ ANIMACIONES */
@keyframes fadeIn {
  from { opacity: 0; transform: scale(.96); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-10px); }
  to { opacity: 1; transform: translateX(0); }
}
</style>
</head>

<body>

<div class="container">

  <h2>Pedido de Planillas</h2>

  <div class="tabs">
    <button class="tab active" onclick="showTab('ind', this)">Individual</button>
    <button class="tab" onclick="showTab('mul', this)">M√∫ltiple</button>
  </div>

  <div class="error" id="error">
    <span>‚úñ</span>
    <div id="errorText"></div>
  </div>

  <!-- INDIVIDUAL -->
  <div id="ind">
    <input id="indNombre" placeholder="Nombre y Apellido">
    <input id="indCoord" placeholder="Nombre del Coordinador/a">
    <input id="indDia" type="number" placeholder="D√≠a (n√∫mero)">
    <select id="indMes">
      <option value="">Mes</option>
      <option>Enero</option><option>Febrero</option><option>Marzo</option>
      <option>Abril</option><option>Mayo</option><option>Junio</option>
      <option>Julio</option><option>Agosto</option><option>Septiembre</option>
      <option>Octubre</option><option>Noviembre</option><option>Diciembre</option>
    </select>
    <button class="send" onclick="enviarIndividual()">Enviar pedido</button>
  </div>

  <!-- MULTIPLE -->
  <div id="mul" style="display:none">
    <textarea id="mulNombres" placeholder="Nombre y Apellido por l√≠nea"></textarea>
    <input id="mulCoord" placeholder="Nombre del Coordinador/a">
    <input id="mulDia" type="number" placeholder="D√≠a (n√∫mero)">
    <select id="mulMes">
      <option value="">Mes</option>
      <option>Enero</option><option>Febrero</option><option>Marzo</option>
      <option>Abril</option><option>Mayo</option><option>Junio</option>
      <option>Julio</option><option>Agosto</option><option>Septiembre</option>
      <option>Octubre</option><option>Noviembre</option><option>Diciembre</option>
    </select>
    <button class="send" onclick="enviarMultiple()">Enviar pedido</button>
  </div>

  <!-- EXITO -->
  <div class="success" id="ok">
    <h3>‚úÖ Pedido enviado correctamente</h3>
    <button onclick="location.reload()">Mandar otro pedido</button>
    <button onclick="window.close()">Salir</button>
  </div>

<div class="footer">
  <span>Website by Grupo Zenit</span>
  <img src="GrupoZenit.png" alt="Grupo Zenit">
</div>


</div>

<script>
const URL = "https://script.google.com/macros/s/AKfycbx-Ac4flj-P_RFqt62VgaNU3afpXZmcveYDiKBMaTq82IEFM180eVg848AhBAeE3hw8/exec";

function showTab(tab, btn) {
  document.getElementById("ind").style.display = tab === "ind" ? "block" : "none";
  document.getElementById("mul").style.display = tab === "mul" ? "block" : "none";
  document.querySelectorAll(".tab").forEach(b => b.classList.remove("active"));
  btn.classList.add("active");
  hideError();
}

function showError(msg) {
  document.getElementById("errorText").innerText = msg;
  document.getElementById("error").style.display = "flex";
}

function hideError() {
  document.getElementById("error").style.display = "none";
}

function enviarIndividual() {
  const errores = [];
  if (!indNombre.value.trim()) errores.push("Nombre");
  if (!indCoord.value.trim()) errores.push("Coordinador");
  if (!indDia.value || !indMes.value) errores.push("D√≠a");

  if (errores.length) {
    showError("Completar " + errores.join(" y "));
    return;
  }

  fetch(URL, {
    method: "POST",
    mode: "no-cors",
    body: JSON.stringify({
      tipo: "individual",
      nombre: indNombre.value.trim(),
      coordinador: indCoord.value.trim(),
      dia: indDia.value,
      mes: indMes.value
    })
  }).then(() => {
    ind.style.display = "none";
    ok.style.display = "block";
  });
}

function enviarMultiple() {
  const errores = [];
  if (!mulNombres.value.trim()) errores.push("Nombres");
  if (!mulCoord.value.trim()) errores.push("Coordinador");
  if (!mulDia.value || !mulMes.value) errores.push("D√≠a");

  if (errores.length) {
    showError("Completar " + errores.join(" y "));
    return;
  }

  fetch(URL, {
    method: "POST",
    mode: "no-cors",
    body: JSON.stringify({
      tipo: "multiple",
      nombres: mulNombres.value.trim(),
      coordinador: mulCoord.value.trim(),
      dia: mulDia.value,
      mes: mulMes.value
    })
  }).then(() => {
    mul.style.display = "none";
    ok.style.display = "block";
  });
}
</script>

</body>
</html>
